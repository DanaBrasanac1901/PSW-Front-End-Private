<div style='margin-left:10%;margin-bottom:5%;margin-top:3%'>
    <label>Appointments to show: </label>
    <select [(ngModel)]="appointmentType" (change)="filterAppointments($event)">
        <option value="-1">All</option>
        <option value="0">Scheduled</option>
        <option value="1">Finished</option>
    </select>
    <app-search (searchTextChanged)="onSearchTextEntered($event)"></app-search>
    Filter: <input type="date" [(ngModel)]="filterDate" (change)="filterAppointmentsByDate($event)">
    <select name="filter" id="filter"[(ngModel)]="typeDate">
        <option value="day">Day</option>
        <option value="week">Week</option>
    </select>
</div>

<div>
    <h2>Reschedule appointment form</h2>
    <form #rescheduleForm="ngForm" (ngSubmit)="onAppointmentRescheduled(rescheduleForm.value)">
        <label>Appointment id</label>
        <input type="text" name="appId" ngModel>
        <br>
        <label>Patient id</label>
        <input type="text" name="patientId" ngModel disabled>
        <br>
        <label>Date</label>
        <input type="date" name="date" ngModel>
        <br>
        <label>Time</label>
        <input type="text" name="time" ngModel>
        <br>
        <input type="submit" value="Reschedule">
    </form>
</div>

<table cellspacing="0">
    <tr>
        <th>Patient</th>
        <th>Date</th>
        <th>Start Time</th>
        <th>Room</th>
        <th>Duration</th>
        <th></th>
        <th></th>
    </tr>
    <tr *ngFor="let app of appointmentsToShow">
        <td>{{app.patientId}}</td>
        <td>{{app.date}}</td>
        <td>{{app.startTime}}</td>
        <td>{{app.roomNumber}}</td>
        <td>20 minutes</td>
        <td>
            <button ng-disabled="!app.cancellable" class="reschedule-button" (click)="onRescheduleClicked(app.id)">
                Reschedule
            </button>
        </td>
        <td>
            <button  class="cancel-button" (click)="cancelled(app.id)">
                Cancel
            </button>
        </td>
    </tr>
</table>
